<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Interface</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
    <div class="header">
        <h1 class="strong-heading">Comm AI</h1>
    </div>
    
    <div class="chat-container">
        <div class="chat-box" id="chatBox">
            <!-- Chat messages will be appended here -->
        </div>
    </div>

    <div class="input-container">
        <div class="input-box">
            <textarea id="userInput" placeholder="Type your response here..." oninput="adjustInputHeight()" onkeypress="checkEnter(event)"></textarea>
            <!-- Send Button with Icon Only -->
            <button class="send-button" onclick="sendMessage()">
                <img src="{% static 'img/send.png' %}" alt="Send Icon" class="send-icon">
            </button>
        </div>
    </div>

    <button class="submit-button" onclick="submitConversation()">Submit Conversation</button>

    <!-- CSRF Token for AJAX Requests -->
    <script>
        // CSRF Token Handling
        function getCSRFToken() {
            let csrfToken = null;
            const cookies = document.cookie.split(';');
            cookies.forEach(cookie => {
                if (cookie.trim().startsWith('csrftoken=')) {
                    csrfToken = cookie.trim().substring('csrftoken='.length);
                }
            });
            return csrfToken;
        }
    </script>

    <script src="{% static 'js/main.js' %}"></script>
</body>
</html>